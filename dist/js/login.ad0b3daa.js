"use strict";(self["webpackChunkcontrol_panel"]=self["webpackChunkcontrol_panel"]||[]).push([[535],{99846:function(e,t,s){s.d(t,{Z:function(){return n}});s(68582),s(17273);var r=s(20144);function a(e){return r.Z.extend({name:`v-${e}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(t,{props:s,data:r,children:a}){r.staticClass=`${e} ${r.staticClass||""}`.trim();const{attrs:o}=r;if(o){r.attrs={};const e=Object.keys(o).filter((e=>{if("slot"===e)return!1;const t=o[e];return e.startsWith("data-")?(r.attrs[e]=t,!1):t||"string"===typeof t}));e.length&&(r.staticClass+=` ${e.join(" ")}`)}return s.id&&(r.domProps=r.domProps||{},r.domProps.id=s.id),t(s.tag,r,a)}})}var o=s(76290),n=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(e,{props:t,data:s,children:r}){let a;const{attrs:n}=s;return n&&(s.attrs={},a=Object.keys(n).filter((e=>{if("slot"===e)return!1;const t=n[e];return e.startsWith("data-")?(s.attrs[e]=t,!1):t||"string"===typeof t}))),t.id&&(s.domProps=s.domProps||{},s.domProps.id=t.id),e(t.tag,(0,o.ZP)(s,{staticClass:"container",class:Array({"container--fluid":t.fluid}).concat(a||[])}),r)}})},48355:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"d-flex justify-center align-center",attrs:{"fill-height":""}},[s("v-row",[s("v-col",[s("v-card",{staticClass:"pa-6 pt-0 ma-2 mt-2 mx-auto radius-12",attrs:{elevation:"","max-width":"520",outlined:"",loading:e.loading},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}}},[s("v-card-title",{staticClass:"pb-0 pt-2"},[s("v-spacer"),s("div",{staticClass:"d-flex align-center my-6"},[s("span",{staticClass:"blue--text display-1 font-weight-bold"},[e._v(" Space")]),s("span",{staticClass:"orange--text display-1 font-weight-black"},[e._v("Kom ")])]),s("v-spacer")],1),s("v-card-title",{},[s("v-spacer"),s("span",{staticClass:"primary--text font-weight-black"},[e._v(e._s(e.$t("pages.login.title")))]),s("v-spacer")],1),s("v-card-title",{staticClass:"pt-0 mb-4"},[s("v-spacer"),s("span",{staticClass:"orange--text headline"},[e._v(e._s(e.$t("pages.login.subtitle")))]),s("v-spacer")],1),s("v-card-text",{staticClass:"pb-0"},[s("v-text-field",{attrs:{type:"text",placeholder:e.$t("pages.login.fields.user_name.placeholder"),label:e.$t("pages.login.fields.user_name.label"),"prepend-inner-icon":"mdi-account",outlined:"","error-messages":e.userNameErrors},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),s("v-text-field",{attrs:{type:e.showPassword?"text":"password",placeholder:e.$t("pages.login.fields.password.placeholder"),label:e.$t("pages.login.fields.password.label"),"prepend-inner-icon":"mdi-lock",outlined:"","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off","error-messages":e.passwordErrors},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.responseAlert.show?s("v-alert",{attrs:{border:e.responseAlert.border,outlined:"",prominent:"",type:e.responseAlert.type}},[s("ul",e._l(e.responseAlert.messages,(function(t,r){return s("li",{key:r},[e._v(" "+e._s(t)+" ")])})),0)]):e._e()],1),s("v-card-actions",{staticClass:"mt-0 px-4"},[s("v-btn",{attrs:{block:"",color:"indigo","x-large":"",dark:"",loading:e.loading},on:{click:e.login}},[e._v(" "+e._s(e.$t("pages.login.actions.login"))+" ")])],1)],1),s("v-card",{staticClass:"ma-2 mx-auto radius-12",attrs:{"max-width":"520",flat:"",outlined:""}},[s("v-card-actions",[s("v-btn",{staticClass:"mx-1",attrs:{small:"",text:""},on:{click:function(t){return e.changeLocale("ar")}}},[e._v("العربية")]),s("v-btn",{staticClass:"mx-1",attrs:{small:"",text:""},on:{click:function(t){return e.changeLocale("en")}}},[e._v("english")]),s("v-spacer"),s("v-btn",{staticClass:"mx-2",attrs:{text:"",icon:"",color:"primary"},on:{click:e.toggleTheme}},[s("v-icon",[e._v("mdi-theme-light-dark")])],1)],1)],1)],1)],1)],1)},a=[],o=s(73821),n=s(91761),i=s(63114),l={name:"Home",data:()=>({showPassword:!1,userName:"",password:"",userNameErrors:[],passwordErrors:[],loading:!1,responseAlert:{show:!1,messages:[],type:"warning",border:"left"}}),components:{},created(){this.responseAlert.border="rtl"==this.$t("direction").toLowerCase()?"right":"left"},methods:{changeLocale(e){o.c.$emit("changeLocale",e)},toggleTheme(){o.c.$emit("toggleTheme")},async login(){if(this.loading)return!1;this.userNameErrors=[],this.passwordErrors=[];const e=this.userName,t=this.password,s={user_name:e,password:t};this.responseAlert.show=!1,this.loading=!0;try{const e=await(0,n.x4)(s),t=e.data;this.responseAlert.type="success",t.hasError&&(this.responseAlert.type="error"),this.responseAlert.messages=t.messages,this.responseAlert.show=!0,await this.$store.dispatch("Supervisors/login",t.data);let r="Home";this.$route.query.next&&"notfound"!=this.$route.query.next.toLowerCase()&&(r=this.$route.query.next),this.$router.push({name:r})}catch(r){const e=r.response,t=e.data;e.status==i.Z.HTTP_UNPROCESSABLE_ENTITY?(t.errors.user_name&&(this.userNameErrors=t.errors.user_name),t.errors.password&&(this.passwordErrors=t.errors.password)):(this.responseAlert.show=!0,this.responseAlert.type="error",this.responseAlert.messages=t.messages,this.userNameErrors.push(""),this.passwordErrors.push(""))}this.loading=!1}}},c=l,d=s(1001),p=s(43453),u=s.n(p),h=s(35098),m=s(63150),g=s(53237),f=s(37118),v=s(82102),w=s(99846),y=s(96428),x=s(62877),C=s(99762),b=s(55978),_=(0,d.Z)(c,r,a,!1,null,"08cc9e30",null),k=_.exports;u()(_,{VAlert:h.Z,VBtn:m.Z,VCard:g.Z,VCardActions:f.h7,VCardText:f.ZB,VCardTitle:f.EB,VCol:v.Z,VContainer:w.Z,VIcon:y.Z,VRow:x.Z,VSpacer:C.Z,VTextField:b.Z})}}]);
//# sourceMappingURL=login.ad0b3daa.js.map