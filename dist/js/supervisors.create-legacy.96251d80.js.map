{"version":3,"file":"js/supervisors.create-legacy.96251d80.js","mappings":"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","sources":["webpack://control-panel/./src/api/roles.js","webpack://control-panel/./src/components/supervisors/selectSupervisorRoles.vue?3c66","webpack://control-panel/src/components/supervisors/selectSupervisorRoles.vue","webpack://control-panel/./src/components/supervisors/selectSupervisorRoles.vue?ca96","webpack://control-panel/./src/components/supervisors/selectSupervisorRoles.vue","webpack://control-panel/./src/views/supervisors/Create.vue?7081","webpack://control-panel/src/views/supervisors/Create.vue","webpack://control-panel/./src/views/supervisors/Create.vue?0bca","webpack://control-panel/./src/views/supervisors/Create.vue"],"sourcesContent":["import api from \"./index\";\n\nexport const BaseURL = \"roles/\";\nexport const editURL = (id) => BaseURL + id + \"/\";\nexport const deleteURL = (id) => BaseURL + id;\n\nexport const getAllRoles = async function(\n  withPermissions = false,\n  withSupervisors = false\n) {\n  const response = await api.get(BaseURL, {\n    with_permissions: Number(withPermissions),\n    with_supervisors: Number(withSupervisors),\n  });\n  return response;\n};\n\nexport const addRole = async function(name, permissions) {\n  const data = { name, permissions };\n  const response = api.post(BaseURL, data);\n  return response;\n};\n\nexport const removeRole = async function(id) {\n  const response = api.delete(deleteURL(id));\n  return response;\n};\n\nexport const updateRolePermissions = async function(id, permissions) {\n  const response = api.put(editURL(id), { permissions });\n  return response;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block justify-center\"},[(_vm.loading)?_c('div',{staticClass:\"text-center\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1):_vm._e(),_c('checkboxes-list',{attrs:{\"autoSelected\":_vm.autoSelected,\"fields\":_vm.rolesList},on:{\"input\":function($event){_vm.selected = $event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-inline-block justify-center\">\n    <div class=\"text-center\" v-if=\"loading\">\n      <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\n    </div>\n    <checkboxes-list :autoSelected=\"autoSelected\" :fields=\"rolesList\" @input=\"selected = $event\" />\n  </div>\n</template>\n\n<script>\nimport { getAllRoles } from \"../../api/roles\";\nimport checkboxesList from \"../checkboxesList.vue\";\nexport default {\n  props: {\n    autoSelected: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  components: { checkboxesList },\n  data() {\n    return {\n      roles: [],\n      selected: [],\n      loading: true,\n    };\n  },\n  computed: {\n    rolesList() {\n      const list = [];\n      for (let role of this.roles) {\n        list.push({\n          value: role.id,\n          label: role.name,\n        });\n      }\n      return list;\n    },\n  },\n  async created() {\n    await this.loadRoles();\n  },\n  methods: {\n    async loadRoles() {\n      this.lading = true;\n      try {\n        const response = await getAllRoles(false, false);\n        this.roles = response.data.data;\n      } catch (error) {\n        alert(error);\n      }\n      this.loading = false;\n    },\n  },\n  watch: {\n    selected(value) {\n      this.$emit(\"input\", value);\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./selectSupervisorRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./selectSupervisorRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectSupervisorRoles.vue?vue&type=template&id=47e54e16&\"\nimport script from \"./selectSupervisorRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./selectSupervisorRoles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"800\",\"scrollable\":\"\",\"persistent\":\"\",\"value\":true}},[_c('v-card',{attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading}},[_c('v-card-title',[_c('p',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.$t(\"pages.create_supervisor.title\")))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"error\"},on:{\"click\":_vm.goBack}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider',{}),_c('v-card-text',{staticClass:\"pt-4\"},[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('pages.create_supervisor.form.name.placeholder'),\"label\":_vm.$t('pages.create_supervisor.form.name.label'),\"outlined\":\"\",\"error-messages\":_vm.nameErrors,\"block\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('pages.create_supervisor.form.user_name.placeholder'),\"label\":_vm.$t('pages.create_supervisor.form.user_name.label'),\"outlined\":\"\",\"error-messages\":_vm.userNameErrors,\"block\":\"\",\"prepend-inner-icon\":\"mdi-at\"},model:{value:(_vm.userName),callback:function ($$v) {_vm.userName=$$v},expression:\"userName\"}})],1)],1),(_vm.generatedPassword.trim() != '')?_c('v-row',[_c('v-col',[_c('v-snackbar',{attrs:{\"timeout\":3000,\"color\":\"success\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_vm._v(\" \"+_vm._s(_vm.$t(\"pages.create_supervisor.password_copied_successfully\"))+\" \"),_c('v-btn',_vm._b({attrs:{\"color\":\"error\",\"icon\":\"\"},on:{\"click\":function($event){_vm.showPasswordCopiedSnakbar = false}}},'v-btn',attrs,false),[_c('v-icon',{attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-close\")])],1)]}}],null,false,4111639256),model:{value:(_vm.showPasswordCopiedSnakbar),callback:function ($$v) {_vm.showPasswordCopiedSnakbar=$$v},expression:\"showPasswordCopiedSnakbar\"}}),_c('v-alert',{attrs:{\"type\":\"success\",\"border\":\"bottom\",\"outlined\":\"\",\"prominent\":\"\",\"dense\":\"\",\"icon\":\"mdi-lock\",\"close-icon\":\"mdi-check\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"pages.create_supervisor.copy_generated_password\"))+\" \")]),_c('v-text-field',{ref:\"generatedPasswordTextField\",staticClass:\"d-inline-block mx-2\",attrs:{\"outlined\":\"\",\"readonly\":true,\"color\":\"success\",\"dense\":\"\",\"append-icon\":\"mdi-content-copy\"},on:{\"click:append\":_vm.copyGeneratedPassword},model:{value:(_vm.generatedPassword),callback:function ($$v) {_vm.generatedPassword=$$v},expression:\"generatedPassword\"}})],1)],1)],1):_vm._e(),_c('v-row',[_c('v-col',[_c('div',[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"pages.create_supervisor.form.roles.label\"))+\" \")]),_vm._v(\" (\"+_vm._s(_vm.$t(\"pages.create_supervisor.form.roles.placeholder\"))+\") \")]),(_vm.showEmptyRolesError)?_c('v-alert',{attrs:{\"type\":\"error\",\"border\":\"bottom\",\"outlined\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"pages.create_supervisor.form.roles.errors.empty\"))+\" \")]):_vm._e(),_c('select-supervisors',{staticClass:\"mx-auto\",on:{\"input\":function($event){_vm.roles = $event}}})],1)],1)],1),_c('v-divider',{}),_c('v-card-actions',{staticClass:\"pa-2\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"large\":\"\",\"color\":\"error\"},on:{\"click\":_vm.goBack}},[_c('v-icon',[_vm._v(\"mdi-cancel\")]),_c('span',{staticClass:\"mx-1\"}),_c('span',[_vm._v(_vm._s(_vm.$t(\"pages.create_role.form.cancel\")))])],1),_c('span',{staticClass:\"mx-2\"}),_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.save}},[_c('v-icon',[_vm._v(\"mdi-content-save\")]),_c('span',{staticClass:\"mx-2\"}),_c('span',[_vm._v(_vm._s(_vm.$t(\"pages.create_role.form.save\")))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog width=\"800\" scrollable persistent :value=\"true\">\n    <v-card :loading=\"loading\" :disabled=\"loading\">\n      <v-card-title>\n        <p class=\"headline\">{{ $t(\"pages.create_supervisor.title\") }}</p>\n        <v-spacer></v-spacer>\n        <v-btn icon color=\"error\" @click=\"goBack\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n      <v-divider class=\"\"></v-divider>\n\n      <v-card-text class=\"pt-4\">\n        <v-row>\n          <v-col>\n            <v-text-field\n              type=\"text\"\n              :placeholder=\"$t('pages.create_supervisor.form.name.placeholder')\"\n              :label=\"$t('pages.create_supervisor.form.name.label')\"\n              v-model=\"name\"\n              outlined\n              :error-messages=\"nameErrors\"\n              block\n            ></v-text-field>\n          </v-col>\n          <v-col>\n            <v-text-field\n              type=\"text\"\n              :placeholder=\"\n                $t('pages.create_supervisor.form.user_name.placeholder')\n              \"\n              :label=\"$t('pages.create_supervisor.form.user_name.label')\"\n              v-model=\"userName\"\n              outlined\n              :error-messages=\"userNameErrors\"\n              block\n              prepend-inner-icon=\"mdi-at\"\n            ></v-text-field>\n          </v-col>\n        </v-row>\n        <v-row v-if=\"generatedPassword.trim() != ''\">\n          <v-col>\n            <v-snackbar :timeout=\"3000\" v-model=\"showPasswordCopiedSnakbar\" color=\"success\">\n              <template v-slot:action=\"{ attrs }\">\n                {{ $t(\"pages.create_supervisor.password_copied_successfully\") }}\n                <v-btn\n                  color=\"error\"\n                  icon\n                  v-bind=\"attrs\"\n                  @click=\"showPasswordCopiedSnakbar = false\"\n                >\n                  <v-icon color=\"error\">mdi-close</v-icon>\n                </v-btn>\n              </template>\n            </v-snackbar>\n            <v-alert\n              type=\"success\"\n              border=\"bottom\"\n              \n              outlined\n              prominent\n              \n              dense\n              icon=\"mdi-lock\"\n              close-icon=\"mdi-check\"\n            >\n              <p>\n                {{ $t(\"pages.create_supervisor.copy_generated_password\") }}\n              </p>\n              <v-text-field\n                outlined\n                class=\"d-inline-block mx-2\"\n                :readonly=\"true\"\n                v-model=\"generatedPassword\"\n                color=\"success\"\n                dense\n                append-icon=\"mdi-content-copy\"\n                @click:append=\"copyGeneratedPassword\"\n                ref=\"generatedPasswordTextField\"\n              ></v-text-field>\n            </v-alert>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <div>\n              <span class=\"font-weight-bold\">\n                {{ $t(\"pages.create_supervisor.form.roles.label\") }}\n              </span>\n              ({{ $t(\"pages.create_supervisor.form.roles.placeholder\") }})\n            </div>\n            <v-alert\n              type=\"error\"\n              border=\"bottom\"\n              outlined\n              v-if=\"showEmptyRolesError\"\n            >\n              {{ $t(\"pages.create_supervisor.form.roles.errors.empty\") }}\n            </v-alert>\n\n            <select-supervisors @input=\"roles = $event\" class=\"mx-auto\" />\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-divider class=\"\"></v-divider>\n      <v-card-actions class=\"pa-2\">\n        <v-spacer></v-spacer>\n\n        <v-btn text large color=\"error\" @click=\"goBack\">\n          <v-icon>mdi-cancel</v-icon>\n          <span class=\"mx-1\"></span>\n          <span>{{ $t(\"pages.create_role.form.cancel\") }}</span>\n        </v-btn>\n        <span class=\"mx-2\"></span>\n        <v-btn large color=\"primary\" :loading=\"loading\" @click=\"save\">\n          <v-icon>mdi-content-save</v-icon>\n          <span class=\"mx-2\"></span>\n          <span>{{ $t(\"pages.create_role.form.save\") }}</span>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport responseCodes from \"../../api/responseCodes\";\nimport { addSupervisor, setRoles } from \"../../api/supervisors\";\nimport SelectSupervisors from \"../../components/supervisors/selectSupervisorRoles.vue\";\nimport { mainEventBus } from \"../../main\";\nexport default {\n  components: { SelectSupervisors },\n  data() {\n    return {\n      name: \"\",\n      userName: \"\",\n      dialog: true,\n      roles: [],\n      permissions: [],\n      nameErrors: [],\n      userNameErrors: [],\n      loading: false,\n      showEmptyRolesError: false,\n      generatedPassword: \"\",\n      showPasswordCopiedSnakbar: false,\n    };\n  },\n\n  methods: {\n    copyGeneratedPassword() {\n      let textToCopy = this.$refs.generatedPasswordTextField.$el.querySelector(\n        \"input\"\n      );\n      textToCopy.select();\n      window.document.execCommand(\"copy\");\n      this.showPasswordCopiedSnakbar = true;\n    },\n    goBack() {\n      window.history.back();\n    },\n    async save() {\n      if (this.loading) return;\n      this.nameErrors = [];\n      this.userNameErrors = [];\n      this.showEmptyRolesError = false;\n      if (this.name.trim() == \"\") {\n        this.nameErrors.push(\n          this.$t(\"pages.create_supervisor.form.name.errors.empty\")\n        );\n        return;\n      }\n      if (this.userName.trim() == \"\") {\n        this.userNameErrors.push(\n          this.$t(\"pages.create_supervisor.form.user_name.errors.empty\")\n        );\n        return;\n      }\n      if (this.roles.length < 1) {\n        this.showEmptyRolesError = true;\n        return;\n      }\n      this.loading = true;\n      try {\n        const additionResponse = await addSupervisor(this.name, this.userName);\n        const supervisor = additionResponse.data.data;\n        \n        await setRoles(supervisor.id, this.roles);\n        this.generatedPassword = supervisor.password;\n\n        mainEventBus.$emit(\"supervisorCreated\", supervisor);\n        this.$emit(\"supervisorCreated\", supervisor);\n        // this.goBack();\n      } catch (error) {\n        if (\n          error.response &&\n          error.response.status == responseCodes.HTTP_UNPROCESSABLE_ENTITY\n        ) {\n          if (error.response.data.errors.name)\n            this.nameErrors = error.response.data.errors.name;\n          if (error.response.data.errors.user_name)\n            this.userNameErrors = error.response.data.errors.user_name;\n        } else alert(error);\n      }\n      this.loading = false;\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=926c1f0c&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VDivider,VIcon,VRow,VSnackbar,VSpacer,VTextField})\n"],"names":["BaseURL","editURL","id","deleteURL","getAllRoles","withPermissions","withSupervisors","api","with_permissions","Number","with_supervisors","response","addRole","name","permissions","data","removeRole","updateRolePermissions","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_e","autoSelected","rolesList","on","$event","selected","staticRenderFns","props","type","default","components","checkboxesList","roles","loading","computed","list","value","label","created","methods","loadRoles","alert","watch","component","VProgressCircular","_v","_s","$t","goBack","nameErrors","model","callback","$$v","expression","userNameErrors","userName","generatedPassword","trim","scopedSlots","_u","key","fn","ref","_b","showPasswordCopiedSnakbar","copyGeneratedPassword","save","SelectSupervisors","dialog","showEmptyRolesError","textToCopy","window","addSupervisor","additionResponse","supervisor","setRoles","mainEventBus","VAlert"],"sourceRoot":""}